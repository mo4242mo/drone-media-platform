# ğŸš Drone Media Sharing Platform

COM682 Cloud Native Development - CW2 Implementation

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

ä¸€ä¸ªåŸºäº Azure äº‘åŸç”ŸæŠ€æœ¯æ„å»ºçš„æ— äººæœºåª’ä½“åˆ†äº«å¹³å°ï¼Œæ”¯æŒå›¾ç‰‡å’Œè§†é¢‘çš„ä¸Šä¼ ã€æµè§ˆã€ç¼–è¾‘å’Œåˆ é™¤ã€‚

## ğŸŒ åœ¨çº¿æ¼”ç¤º

| ç»„ä»¶ | URL |
|------|-----|
| **å‰ç«¯** | https://stdronemediastorage.z7.web.core.windows.net |
| **API** | https://func-drone-media-api.azurewebsites.net/api |

## ğŸ—ï¸ æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ç”¨æˆ·æµè§ˆå™¨                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Azure Blob Storage (é™æ€ç½‘ç«™æ‰˜ç®¡)                   â”‚
â”‚                    å‰ç«¯ HTML/CSS/JS                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Azure Functions (REST API)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚GetAllMediaâ”‚ â”‚GetMedia â”‚ â”‚UploadMediaâ”‚ â”‚UpdateMediaâ”‚ â”‚Delete â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                               â”‚
                 â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Azure Cosmos DB        â”‚    â”‚    Azure Blob Storage        â”‚
â”‚     (å…ƒæ•°æ®å­˜å‚¨)            â”‚    â”‚    (åª’ä½“æ–‡ä»¶å­˜å‚¨)             â”‚
â”‚   DroneMediaDB/MediaAssets â”‚    â”‚       media å®¹å™¨              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## â˜ï¸ Azure æœåŠ¡

| æœåŠ¡ | ç”¨é€” | èµ„æºåç§° |
|------|------|----------|
| **Blob Storage** | é™æ€ç½‘ç«™ + åª’ä½“å­˜å‚¨ | stdronemediastorage |
| **Cosmos DB** | NoSQL å…ƒæ•°æ®å­˜å‚¨ | cosmos-drone-media |
| **Functions** | Serverless REST API | func-drone-media-api |
| **Application Insights** | ç›‘æ§å’Œæ—¥å¿— | func-drone-media-api |
| **Monitor Alerts** | å‘Šè­¦è§„åˆ™ | 3ä¸ªå‘Šè­¦è§„åˆ™ |

## ğŸ“¡ API ç«¯ç‚¹

| æ“ä½œ | æ–¹æ³• | ç«¯ç‚¹ |
|------|------|------|
| è·å–æ‰€æœ‰åª’ä½“ | GET | `/api/media` |
| è·å–å•ä¸ªåª’ä½“ | GET | `/api/media/{id}` |
| ä¸Šä¼ åª’ä½“ | POST | `/api/media/upload` |
| æ›´æ–°åª’ä½“ | PUT | `/api/media/{id}` |
| åˆ é™¤åª’ä½“ | DELETE | `/api/media/{id}` |

## ğŸ”§ æŠ€æœ¯æ ˆ

### å‰ç«¯
- HTML5 / CSS3 / JavaScript
- å“åº”å¼è®¾è®¡
- æ·±è‰²ä¸»é¢˜ UI

### åç«¯
- Node.js 20
- Azure Functions v4 ç¼–ç¨‹æ¨¡å‹
- @azure/cosmos SDK
- @azure/storage-blob SDK

### æ•°æ®åº“
- Azure Cosmos DB (NoSQL)
- åˆ†åŒºé”®: `/id`

## ğŸš€ CI/CD

ä½¿ç”¨ GitHub Actions å®ç°è‡ªåŠ¨éƒ¨ç½²ï¼š

- **å‰ç«¯éƒ¨ç½²**: æ¨é€åˆ° `main` åˆ†æ”¯æ—¶è‡ªåŠ¨éƒ¨ç½²åˆ° Blob Storage
- **APIéƒ¨ç½²**: æ¨é€åˆ° `main` åˆ†æ”¯æ—¶è‡ªåŠ¨éƒ¨ç½²åˆ° Function App

è¯¦è§ [CI/CD è®¾ç½®æŒ‡å—](./CICD-SETUP.md)

## ğŸ“Š ç›‘æ§å‘Šè­¦

| å‘Šè­¦ | æ¡ä»¶ | ä¸¥é‡æ€§ |
|------|------|--------|
| HTTP 5xx é”™è¯¯ | > 5 æ¬¡/5åˆ†é’Ÿ | è­¦å‘Š |
| å“åº”æ—¶é—´ | > 3 ç§’ | ä¿¡æ¯ |
| Cosmos DB RU | > 1000/5åˆ†é’Ÿ | ä¿¡æ¯ |

## ğŸ“ é¡¹ç›®ç»“æ„

```
cnd_cw2/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ deploy-frontend.yml    # å‰ç«¯CI/CD
â”‚       â””â”€â”€ deploy-api.yml         # API CI/CD
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ functions/
â”‚   â”‚   â”‚   â”œâ”€â”€ getMedia.js
â”‚   â”‚   â”‚   â”œâ”€â”€ uploadMedia.js
â”‚   â”‚   â”‚   â”œâ”€â”€ updateMedia.js
â”‚   â”‚   â”‚   â””â”€â”€ deleteMedia.js
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ host.json
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ api.js
â”‚   â”‚   â”œâ”€â”€ app.js
â”‚   â”‚   â””â”€â”€ config.js
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ cw1.txt                    # CW1 è®¾è®¡æ–‡æ¡£
â”‚   â””â”€â”€ azureä¿¡æ¯.txt               # Azureèµ„æºä¿¡æ¯
â”œâ”€â”€ CICD-SETUP.md                  # CI/CDé…ç½®æŒ‡å—
â””â”€â”€ README.md
```

## ğŸ‘¨â€ğŸ’» å¼€å‘è€…

COM682 Cloud Native Development - Coursework 2

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ç”¨äºå­¦æœ¯ç›®çš„ã€‚
